<!DOCTYPE html>
<html>
    <head>
        <title>Asset Management</title>
    </head>
    <body>
        <script src="./main.js"></script>
        <canvas id="testCanvas"></canvas>

        <script>
            var start = async function() {
                var canvas = document.getElementById("testCanvas");
                var animator = new V4.Animator(canvas, false);
                animator.canvas.height = 500;
                animator.canvas.width = 800;
                animator.backgroundColor("#000");

                var fontObj = new V4.Font();
                var res = await fontObj.loadGFonts("Crimson Text", [
                    "Regular",
                    "Italic"
                ]);

                var font = fontObj.getFontVariant("Italic");

                animator.framesPerSecond(60);
                var x = 0;

                function backgroundRenderer(state) {
                    if (state.hasCanvas && state.hasCanvas) {
                        x += 5 * state.deltaTime;
                        let path = font.getPath("Hello, World!", x, 150, 72);
                        path.fill = "white";
                        path.draw(animator.context);
                    }
                }

                animator.addToAnimation(backgroundRenderer);

                animator.startAnimationLoop();
            };

            start();
        </script>
    </body>
</html>
